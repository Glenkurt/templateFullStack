<main class="container">
  <header>
    <h1>ğŸš€ {{ title }}</h1>
    <p>Your full-stack application is ready!</p>
  </header>

  <section class="health-check">
    <h2>API Status</h2>

    @if (loading) {
      <div class="status loading">
        <span class="spinner"></span>
        Checking API connection...
      </div>
    }

    @if (healthStatus) {
      <div
        class="status"
        [class.ok]="healthStatus.status === 'ok'"
        [class.error]="healthStatus.status !== 'ok'"
      >
        <div class="status-icon">
          {{ healthStatus.status === 'ok' ? 'âœ…' : 'âš ï¸' }}
        </div>
        <div class="status-details">
          <p><strong>Status:</strong> {{ healthStatus.status | uppercase }}</p>
          <p><strong>Database:</strong> {{ healthStatus.database }}</p>
          <p><strong>Timestamp:</strong> {{ healthStatus.timestamp }}</p>
        </div>
      </div>
    }

    @if (error) {
      <div class="status error">
        <div class="status-icon">âŒ</div>
        <div class="status-details">
          <p>{{ error }}</p>
        </div>
      </div>
    }

    <button (click)="checkApiHealth()" [disabled]="loading">ğŸ”„ Refresh Status</button>
  </section>

  <section class="info">
    <h2>Getting Started</h2>
    <ul>
      <li>API endpoint: <code>/api/v1/health</code></li>
      <li>Angular frontend: <code>http://localhost:4200</code></li>
      <li>API server: <code>http://localhost:5093</code></li>
    </ul>
  </section>
</main>

<router-outlet></router-outlet>
